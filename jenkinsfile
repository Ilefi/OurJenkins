pipeline {
    agent any 
    tools {
        // Le nom 'M2_HOME' doit correspondre exactement au nom que vous avez donné 
        // à votre installation Maven dans 'Gérer Jenkins -> Outils'.
        maven 'M2_HOME' 
    }
    stages {
        // Le stage 'Declarative: Checkout SCM' est fait automatiquement par Jenkins
        
        stage('Build & Package (Skip Tests)') {
            steps {
                echo 'Starting the Maven Build Stage, skipping tests...'
                sh 'mvn clean install -DskipTests' 
            }
        }
    }
}